
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<title>COUNT DOWN CAOFF 
  
  2021-2022 投票</title>
</head>
<body>
<nav class="navbar navber-light bg-light fixed-top" role="navigation">
<div class="container">
<table class="table" id="selectionTable">
</table>
</div>
</nav>
<div class="container" style="padding-top: 70px;padding-bottom: 70px;">
<header class="header">
<h2>COUNT DOWN･CAOFF 2021-2022投票ページ</h2>

今年も<a href="http://www.caoff.com/" target="_blank">COUNTDOWN CAOFF</a>が12月31日に開催されます。<br/>
そこで、2021年に発表されたアニソンの中で皆さんが良かったと思う曲ベスト10を決めたいと思います!!<br/>
ランキングは皆さんの投票で決定します。<br/>
下のリストから１位・２位・３位を選んで、tweetボタンをクリックしてください。<br/>
<br/>
<br/>
<br/>
CAOFF WEST公式アカウントです。平素より格別のご愛顧を賜り、誠にありがとうございます。 
さて、コロナ禍の渦中ではございますが今年も無事に年末を迎え、毎年恒例の『皆で決める今年のアニソンNo.1!! CAOFF WEST カウントダウンリクエスト』も13年目の開催となりました。先ずは皆さまから多数の投票を頂きました事、また、RTなどによる本企画の盛り上げにお手伝い頂きました事、心よりお礼申し上げます。 
本日までに皆さまから沢山の投票を頂きましたが、一部で組織票と思わしき投票を確認し、第三者からも多数のご指摘があった為に今一度投票に関してのガイドラインを定めさせて頂きます。 
 <br/>
 <br/>
【投票のルール】 <br/>
・投票は一人につき1回のみ。その年に発売されたアニメ関連の楽曲で1位から3位までを投票 <br/>
・公式アカウントが発信するハッシュタグを付けて投票 <br/>
 <br/>
【無効と判断する投票の定義】 <br/>
・１人で複数回の投票 <br/>
・１位から３位までを投票していない票 <br/>
・公式アカウントが発信していないハッシュタグを付け加えての投票 <br/>
・裏アカウント・捨てアカウントからの投票 <br/>
・公式以外の画像使用、URLのリンクを貼り付けての投票 <br/>
・組織票と思われる投票（別項参照） <br/>
・その他公式が無効と判断する投票 <br/>
 <br/>
【組織票と判断する定義】 <br/>
・「RTお願い」「応援お願い」「コピペして使って」「この曲に投票して」など、仲間内や第三者へ特定の投票を促したり誘導を行う事。<br/>
  またそれらに賛同した形での投票や、コピー＆ペーストと思わしき投票 <br/>
・本企画の趣旨とは別に、特定のアーティストや作品の利己的な目的での投票 <br/>
・その他公式が判断する組織票での投票 <br/>
 <br/>
 <br/>
CAOFF WESTカウントダウンリクエストの趣旨は『参加する皆さんで投票を行い、その年に発表された楽曲を振り返りながら楽しくランキングを決める事』です。 <br/>
「今年はどんな曲がランクインするのか？」 <br/>
「自分の投票した曲は何位にランクインするのか？」 <br/>
「今年の１位は何の曲か？」 <br/>
そんな事を参加者全員で予想しながら、ドキドキ、ワクワクの気持ちを持って投票を楽しむ事が目的です。 <br/>
ランキングである以上は順位を付ける事になりますが、個人の目的の為に順位付けを行うものではございません。<br/>
誰しも自分の『好き』なものを持っていますし、その『好き』を多くの人に知ってもらいたい、伝えたい気持ちは十分に理解しておりますが、今一度本企画の趣旨や目的をご理解して頂ければと思います。 <br/>
 <br/>
 <br/>
以上の判断を持ちまして、大変心苦しいところではございますが、本日までに確認された無効票に該当する投票に関しては、全て無効とさせて頂きます。 <br/>
また、今後も無効票に該当する投票に尽きましても厳正に対処させて頂きます。 <br/>
 <br/>
 <br/>
皆さまのご理解とご協力の程、宜くお願い致します。<br/>
</header>

<div class="alert alert-info">
データロード中。。。Javascriptは有効に
</div>

<ul class="list-group">
</ul>
</div>

<nav class="navbar navber-light bg-light fixed-bottom" role="navigation">
<div class="container">
<a href="https://twitter.com/intent/tweet?hashtags=caoff2022&text=" class="twitter-hashtag-button btn btn-primary btn-lg btn-block" role="button" data-lang="ja" data-role="button">Tweet #caoff2022</a><br/>
</div>
</nav>
<script type="text/javascript"
  src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript"><!--
var selectTitles = [];
var loadSelection = function() {
    var tbl = $("#selectionTable");
    tbl.html("");
    var text = "";
    for(var i=1; i<= selectTitles.length; i++) {
        row = $("<tr></tr>");
        row.append("<td>"+i+"位</td>");
        row.append("<td>"+selectTitles[i-1]+"</td>");
        if(i==1) {
            row.append("<td></td>");
        } else {
            row.append("<td><a onclick='upTitle("+(i-1)+");'>　▲　</a></td>");
        }
        if(i==selectTitles.length) {
            row.append("<td></td>");
        } else {
            row.append("<td><a onclick='upTitle("+i+");'>　▼　</a></td>");
        }
        row.append("<td><a class=\"btn btn-danger\" onclick='deleteTitle(\""+selectTitles[i-1]+"\");'>削除</a></td>");
        tbl.append(row);
        text += i+"位:"+selectTitles[i-1]+"\n";
    }
    text += "https://caoffwest.github.io/2021countdown/";
    var url = "https://twitter.com/intent/tweet?hashtags=caoff2022&text=";
    $('.twitter-hashtag-button').attr("href", url+encodeURIComponent(text));
}
var deleteTitle = function(title) {
    for(var i=0; i< selectTitles.length; i++) {
        if (selectTitles[i]==title) {
            selectTitles.splice(i,1);
            break;
        }
    }
    $('.list-group-item[data-val="'+title+'"]').removeClass("active");
    loadSelection();
}
var upTitle = function(index) {
    selectTitles.splice(index-1,2,selectTitles[index],selectTitles[index-1]);
    loadSelection();
}
$.get("https://caoffwest.github.io/2021countdown/data.json",
 function(json) { 
    var entrys = json.feed.entry;
    var len = entrys.length;
    
    for(var i=0; i < len; i++){
      row = $('<a href="javascript:void(0)" class="list-group-item"><h4 class="list-group-item-heading"></h4><p class="list-group-item-text"></p></a>');
      row.attr("data-val", entrys[i].title.$t+"/"+entrys[i].gsx$タイアップ.$t);
      row.find(".list-group-item-heading").text(entrys[i].title.$t);
      row.find(".list-group-item-text").text(entrys[i].gsx$タイアップ.$t);
      $(".list-group").append(row);
    }
    $(".alert").remove();

    $(".list-group-item").click(function() {
      if ($(this).hasClass("active")) {
          //$(this).removeClass("active");
          deleteTitle($(this).attr("data-val"));
      } else {
          if($(".list-group-item.active").length>=3) {
              alert("選べるのは３つまで！");
              return false;
          }
          $(this).addClass("active");
          selectTitles.push($(this).attr("data-val"));
          loadSelection();
      }
    });
  } 
);
//-->
</script>
</body>
</html>
